let e,t,n,o,i,a,l;function r(e){return Math.floor(Math.random()*e)}function d(e,t){let n=document.createElement("canvas");n.width=500,n.height=500;let o=n.getContext("2d");o.drawImage(t,0,0,500,500);let i=o.getImageData(0,0,500,500);for(let t=0;t<i.data.length;t+=4)i.data[t]=i.data[t]*e,i.data[t+1]=i.data[t+1]*e,i.data[t+2]=i.data[t+2]*e;o.putImageData(i,0,0);let a=new Image;return a.src=n.toDataURL(),n.remove(),a}function s(e){var t;document.getElementById("moves").innerHTML=`You Moved ${e} Steps.`,t="Message-Container","visible"==document.getElementById(t).style.visibility?document.getElementById(t).style.visibility="hidden":document.getElementById(t).style.visibility="visible"}function c(e,t){let n,o,i,a=["n","s","e","w"],l={n:{y:-1,x:0,o:"s"},s:{y:1,x:0,o:"n"},e:{y:0,x:1,o:"w"},w:{y:0,x:-1,o:"e"}};this.map=function(){return n},this.startCoord=function(){return o},this.endCoord=function(){return i},n=Array(t);for(let o=0;o<t;o++){n[o]=Array(e);for(let t=0;t<e;++t)n[o][t]={n:!1,s:!1,e:!1,w:!1,visited:!1,priorPos:null}}switch(r(4)){case 0:o={x:0,y:0},i={x:t-1,y:e-1};break;case 1:o={x:0,y:e-1},i={x:t-1,y:0};break;case 2:o={x:t-1,y:0},i={x:0,y:e-1};break;case 3:o={x:t-1,y:e-1},i={x:0,y:0}}!function(){let o=!1,i=!1,d=1,s=0,c=0,y={x:0,y:0},h=e*t;for(;!o;){i=!1,n[y.x][y.y].visited=!0,s>=c&&(a.sort(()=>Math.random()-.5),c=Math.round(r(t/8)),s=0),s++;for(let o=0;o<a.length;o++){let r=a[o],s=y.x+l[r].x,c=y.y+l[r].y;if(s>=0&&s<e&&c>=0&&c<t&&!n[s][c].visited){n[y.x][y.y][r]=!0,n[s][c][l[r].o]=!0,n[s][c].priorPos=y,y={x:s,y:c},d++,i=!0;break}}i||(y=n[y.x][y.y].priorPos),h==d&&(o=!0)}}()}function y(e,t,n,o=null){let i,a,l=e.map(),r=n;function d(){for(let e=0;e<l.length;e++)for(let n=0;n<l[e].length;n++)!function(e,n,o){let i=e*r,a=n*r;!1===o.n&&(t.beginPath(),t.moveTo(i,a),t.lineTo(i+r,a),t.stroke()),!1===o.s&&(t.beginPath(),t.moveTo(i,a+r),t.lineTo(i+r,a+r),t.stroke()),!1===o.e&&(t.beginPath(),t.moveTo(i+r,a),t.lineTo(i+r,a+r),t.stroke()),!1==o.w&&(t.beginPath(),t.moveTo(i,a),t.lineTo(i,a+r),t.stroke())}(e,n,l[e][n])}t.lineWidth=r/40,this.redrawMaze=function(e){t.lineWidth=(r=e)/50,d(),i()},i=null!=o?function(){let n=r/50,i=r/25,a=e.endCoord();t.drawImage(o,2,2,o.width,o.height,a.x*r+n,a.y*r+n,r-i,r-i)}:function(){let n=e.endCoord(),o=r/4-2,i=!0;for(let e=0;e<4;e++){i=!i;for(let a=0;a<4;a++)t.beginPath(),t.rect(n.x*r+a*o+4.5,n.y*r+e*o+4.5,o,o),i?t.fillStyle="rgba(0, 0, 0, 0.8)":t.fillStyle="rgba(255, 255, 255, 0.8)",t.fill(),i=!i}},a=r*l.length,t.clearRect(0,0,a,a),d(),i()}function h(e,t,n,o,i=null){let a,l=t.getContext("2d"),r=0;a=function(t){l.beginPath(),l.fillStyle="yellow",l.arc((t.x+1)*y-u,(t.y+1)*y-u,u-2,0,2*Math.PI),l.fill(),t.x===e.endCoord().x&&t.y===e.endCoord().y&&(o(r),d.unbindKeyDown())},null!=i&&(a=w);let d=this,s=e.map(),c={x:e.startCoord().x,y:e.startCoord().y},y=n,u=y/2;function w(t){let n=y/50,a=y/25;l.drawImage(i,0,0,i.width,i.height,t.x*y+n,t.y*y+n,y-a,y-a),t.x===e.endCoord().x&&t.y===e.endCoord().y&&(o(r),d.unbindKeyDown())}function g(e){let t=y/50,n=y/25;l.clearRect(e.x*y+t,e.y*y+t,y-n,y-n)}function m(e){let t=s[c.x][c.y];switch(r++,e.keyCode){case 65:case 37:!0===t.w&&(g(c),c={x:c.x-1,y:c.y},a(c));break;case 87:case 38:!0===t.n&&(g(c),c={x:c.x,y:c.y-1},a(c));break;case 68:case 39:!0===t.e&&(g(c),c={x:c.x+1,y:c.y},a(c));break;case 83:case 40:!0===t.s&&(g(c),c={x:c.x,y:c.y+1},a(c))}}this.redrawPlayer=function(e){y=e,w(c)},this.bindKeyDown=function(){window.addEventListener("keydown",m,!1),$("#view").swipe({swipe:function(e,t){switch(console.log(t),t){case"up":m({keyCode:38});break;case"down":m({keyCode:40});break;case"left":m({keyCode:37});break;case"right":m({keyCode:39})}},threshold:0})},this.unbindKeyDown=function(){window.removeEventListener("keydown",m,!1),$("#view").swipe("destroy")},a(e.startCoord()),this.bindKeyDown()}let u=document.getElementById("mazeCanvas"),w=u.getContext("2d");window.onload=function(){let r=$("#view").width(),g=$("#view").height();g<r?(w.canvas.width=g-g/100,w.canvas.height=g-g/100):(w.canvas.width=r-r/100,w.canvas.height=r-r/100);let m=!1,f=!1,x=()=>{!0===m&&!0===f&&(console.log("Runs"),setTimeout(()=>{let r;void 0!==i&&(i.unbindKeyDown(),i=null),l=(r=document.getElementById("diffSelect")).options[r.selectedIndex].value,a=u.width/l,o=new y(n=new c(l,l),w,a,t),i=new h(n,u,a,s,e),document.getElementById("mazeContainer").style.opacity<"100"&&(document.getElementById("mazeContainer").style.opacity="100")},500))};(e=new Image).src=`https://image.ibb.co/dr1HZy/Pf_RWr3_X_Imgur.png?${new Date().getTime()}`,e.setAttribute("crossOrigin"," "),e.onload=function(){e=d(1.2,e),console.log(m=!0),x()},(t=new Image).src=`https://image.ibb.co/b9wqnJ/i_Q7m_U25_Imgur.png?${new Date().getTime()}`,t.setAttribute("crossOrigin"," "),t.onload=function(){t=d(1.1,t),console.log(f=!0),x()}},window.onresize=function(){let e=$("#view").width(),t=$("#view").height();t<e?(w.canvas.width=t-t/100,w.canvas.height=t-t/100):(w.canvas.width=e-e/100,w.canvas.height=e-e/100),a=u.width/l,null!=i&&(o.redrawMaze(a),i.redrawPlayer(a))};
//# sourceMappingURL=capstone.4b15562a.js.map
